<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tesseract: /tesseract/src/lstm/lstmrecognizer.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tesseract
   &#160;<span id="projectnumber">5.0.0-alpha-619-ge9db</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00890_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">lstmrecognizer.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a00890.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// File:        lstmrecognizer.h</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Description: Top-level line recognizer class for LSTM-based networks.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// Author:      Ray Smith</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// (C) Copyright 2013, Google Inc.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// limitations under the License.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef TESSERACT_LSTM_LSTMRECOGNIZER_H_</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#define TESSERACT_LSTM_LSTMRECOGNIZER_H_</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00488.html">ccutil.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00014.html">tesseract/helpers.h</a>&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00320.html">imagedata.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00332.html">matrix.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00902.html">network.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00911.html">networkscratch.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00554.html">params.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00929.html">recodebeam.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00947.html">series.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00044.html">tesseract/strngs.h</a>&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00593.html">unicharcompress.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">class </span>BLOB_CHOICE_IT;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">struct </span>Pix;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">class </span><a class="code" href="a02826.html">ROW_RES</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">class </span><a class="code" href="a03978.html">ScrollView</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">class </span><a class="code" href="a02898.html">TBOX</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">class </span><a class="code" href="a02830.html">WERD_RES</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">namespace </span><a class="code" href="a01818.html">tesseract</a> {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">class </span>Dict;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">class </span>ImageData;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// Enum indicating training mode control flags.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2">   46</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2">TrainingFlags</a> {</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2a85f99732695115fa647f091760699816">   47</a></span>&#160;  <a class="code" href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2a85f99732695115fa647f091760699816">TF_INT_MODE</a> = 1,</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2af91ba76cce718e575d71e5921515a6d3">   48</a></span>&#160;  <a class="code" href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2af91ba76cce718e575d71e5921515a6d3">TF_COMPRESS_UNICHARSET</a> = 64,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;};</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">// Top-level line recognizer class for LSTM-based networks.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// Note that a sub-class, LSTMTrainer is used for training.</span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="a03506.html">   53</a></span>&#160;<span class="keyword">class </span><a class="code" href="a03506.html">LSTMRecognizer</a> {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="a03506.html#ae2d6bf1cac558b895465bd0bf0b85296">LSTMRecognizer</a>();</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="a03506.html#ae2d6bf1cac558b895465bd0bf0b85296">LSTMRecognizer</a>(<span class="keyword">const</span> <a class="code" href="a02542.html">STRING</a> language_data_path_prefix);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="a03506.html#a3964ddd6b6c122638816904f0f87855f">~LSTMRecognizer</a>();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="a03506.html#a2c5da345cfdcf16beadd387f9a250e4e">   59</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="a03506.html#a2c5da345cfdcf16beadd387f9a250e4e">NumOutputs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#a3cb608bfc2c144366eab3fc43c37848e">NumOutputs</a>(); }</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="a03506.html#ad1c4b2c88566feb9aa99cd2d4ea3d500">   60</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="a03506.html#ad1c4b2c88566feb9aa99cd2d4ea3d500">training_iteration</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a03506.html#aca315a9232cd3c04b82277ddaf8f840f">training_iteration_</a>; }</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="a03506.html#ad3771be55c164cd003088d2d9b43abdb">   61</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="a03506.html#ad3771be55c164cd003088d2d9b43abdb">sample_iteration</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a03506.html#aef5b9a97853a4d8a409b451b445bbd0a">sample_iteration_</a>; }</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="a03506.html#a53b4de727b39eef734eaf0a906d92ab0">   62</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="a03506.html#a53b4de727b39eef734eaf0a906d92ab0">learning_rate</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a03506.html#add798dcc838b310a2cf9db51436d2f20">learning_rate_</a>; }</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="a03506.html#a007d9d40e3bfa53adfbd31e9a7599532">   63</a></span>&#160;  <a class="code" href="a01818.html#a13a7c99e617b2f9428673e71bd29359b">LossType</a> <a class="code" href="a03506.html#a007d9d40e3bfa53adfbd31e9a7599532">OutputLossType</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a> == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <a class="code" href="a01818.html#a13a7c99e617b2f9428673e71bd29359bae8dd985d351d9f45b42398cbdedf19dd">LT_NONE</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="a03578.html">StaticShape</a> shape;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    shape = <a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#ab99b95d6143dd9b22d3a33c6c1c1f123">OutputShape</a>(shape);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">return</span> shape.<a class="code" href="a03578.html#a88a36fac38cb0a8c506bac0f9db46551">loss_type</a>();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="a03506.html#a40580135ab49d43527c59c761b4a5494">   69</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a03506.html#a40580135ab49d43527c59c761b4a5494">SimpleTextOutput</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a03506.html#a007d9d40e3bfa53adfbd31e9a7599532">OutputLossType</a>() == <a class="code" href="a01818.html#a13a7c99e617b2f9428673e71bd29359bafe3fbdf6fcc74fc6bf28b1ae48498430">LT_SOFTMAX</a>; }</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="a03506.html#ab5635bc6fefc6f5d434455ed44f1454e">   70</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a03506.html#ab5635bc6fefc6f5d434455ed44f1454e">IsIntMode</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="a03506.html#a2322b02535fc4c25557bba259bd1aa4f">training_flags_</a> &amp; <a class="code" href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2a85f99732695115fa647f091760699816">TF_INT_MODE</a>) != 0; }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">// True if recoder_ is active to re-encode text to a smaller space.</span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="a03506.html#a56d3a6d506748c7d13bf219de44fca63">   72</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a03506.html#a56d3a6d506748c7d13bf219de44fca63">IsRecoding</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="a03506.html#a2322b02535fc4c25557bba259bd1aa4f">training_flags_</a> &amp; <a class="code" href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2af91ba76cce718e575d71e5921515a6d3">TF_COMPRESS_UNICHARSET</a>) != 0;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// Returns true if the network is a TensorFlow network.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="a03506.html#a7c1a80e63ebbe2521c1876d68c77789c">   76</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a03506.html#a7c1a80e63ebbe2521c1876d68c77789c">IsTensorFlow</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#ad675bc281466d59898f9bfd73ea34e43">type</a>() == <a class="code" href="a01818.html#a9c90202f597e58fba8911e0d29d9b198a83ad2fcd7f3fb898d1e5cbc987f472fd">NT_TENSORFLOW</a>; }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// Returns a vector of layer ids that can be passed to other layer functions</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// to access a specific layer.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="a03506.html#ab050e77b2837fe6e9f5dce8d8104a041">   79</a></span>&#160;  <a class="code" href="a02434.html">GenericVector&lt;STRING&gt;</a> <a class="code" href="a03506.html#ab050e77b2837fe6e9f5dce8d8104a041">EnumerateLayers</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="a00515.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#ad675bc281466d59898f9bfd73ea34e43">type</a>() == <a class="code" href="a01818.html#a9c90202f597e58fba8911e0d29d9b198aa8f65aa7ff6e3300e56389aa28c52f04">NT_SERIES</a>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">auto</span>* series = static_cast&lt;Series*&gt;(<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="a02434.html">GenericVector&lt;STRING&gt;</a> layers;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    series-&gt;EnumerateLayers(<span class="keyword">nullptr</span>, &amp;layers);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> layers;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">// Returns a specific layer from its id (from EnumerateLayers).</span></div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="a03506.html#a2b345d8b3ae10f4205c73e9f6861663e">   87</a></span>&#160;  <a class="code" href="a03514.html">Network</a>* <a class="code" href="a03506.html#a2b345d8b3ae10f4205c73e9f6861663e">GetLayer</a>(<span class="keyword">const</span> <a class="code" href="a02542.html">STRING</a>&amp; <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="a00515.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#ad675bc281466d59898f9bfd73ea34e43">type</a>() == <a class="code" href="a01818.html#a9c90202f597e58fba8911e0d29d9b198aa8f65aa7ff6e3300e56389aa28c52f04">NT_SERIES</a>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="a00515.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<span class="keywordtype">id</span>.length() &gt; 1 &amp;&amp; <span class="keywordtype">id</span>[0] == <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">auto</span>* series = static_cast&lt;Series*&gt;(<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> series-&gt;GetLayer(&amp;<span class="keywordtype">id</span>[1]);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="comment">// Returns the learning rate of the layer from its id.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="a03506.html#aa16161a404ddcb6a7b68532fc6ea2d75">   94</a></span>&#160;  <span class="keywordtype">float</span> <a class="code" href="a03506.html#aa16161a404ddcb6a7b68532fc6ea2d75">GetLayerLearningRate</a>(<span class="keyword">const</span> <a class="code" href="a02542.html">STRING</a>&amp; <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="a00515.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#ad675bc281466d59898f9bfd73ea34e43">type</a>() == <a class="code" href="a01818.html#a9c90202f597e58fba8911e0d29d9b198aa8f65aa7ff6e3300e56389aa28c52f04">NT_SERIES</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#abce1ba9a5dfc40942d29a963b96f85de">TestFlag</a>(<a class="code" href="a01818.html#aaca6aa7e71197530dd154e11138da6e8a575556edf34617c58c34920f0190b85f">NF_LAYER_SPECIFIC_LR</a>)) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <a class="code" href="a00515.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<span class="keywordtype">id</span>.length() &gt; 1 &amp;&amp; <span class="keywordtype">id</span>[0] == <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <span class="keyword">auto</span>* series = static_cast&lt;Series*&gt;(<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="keywordflow">return</span> series-&gt;LayerLearningRate(&amp;<span class="keywordtype">id</span>[1]);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="a03506.html#add798dcc838b310a2cf9db51436d2f20">learning_rate_</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="comment">// Multiplies the all the learning rate(s) by the given factor.</span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="a03506.html#ab8fc6295efa2e1c762936d0718f4eda7">  105</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#ab8fc6295efa2e1c762936d0718f4eda7">ScaleLearningRate</a>(<span class="keywordtype">double</span> factor) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="a00515.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#ad675bc281466d59898f9bfd73ea34e43">type</a>() == <a class="code" href="a01818.html#a9c90202f597e58fba8911e0d29d9b198aa8f65aa7ff6e3300e56389aa28c52f04">NT_SERIES</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="a03506.html#add798dcc838b310a2cf9db51436d2f20">learning_rate_</a> *= factor;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#abce1ba9a5dfc40942d29a963b96f85de">TestFlag</a>(<a class="code" href="a01818.html#aaca6aa7e71197530dd154e11138da6e8a575556edf34617c58c34920f0190b85f">NF_LAYER_SPECIFIC_LR</a>)) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <a class="code" href="a02434.html">GenericVector&lt;STRING&gt;</a> layers = <a class="code" href="a03506.html#ab050e77b2837fe6e9f5dce8d8104a041">EnumerateLayers</a>();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; layers.<a class="code" href="a02434.html#a20cfad5c58c50cb85a9529d8ddbd96af">size</a>(); ++i) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="a03506.html#aec22ea2555ed4e9513e3061406fe3b37">ScaleLayerLearningRate</a>(layers[i], factor);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// Multiplies the learning rate of the layer with id, by the given factor.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="a03506.html#aec22ea2555ed4e9513e3061406fe3b37">  116</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#aec22ea2555ed4e9513e3061406fe3b37">ScaleLayerLearningRate</a>(<span class="keyword">const</span> <a class="code" href="a02542.html">STRING</a>&amp; <span class="keywordtype">id</span>, <span class="keywordtype">double</span> factor) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="a00515.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#ad675bc281466d59898f9bfd73ea34e43">type</a>() == <a class="code" href="a01818.html#a9c90202f597e58fba8911e0d29d9b198aa8f65aa7ff6e3300e56389aa28c52f04">NT_SERIES</a>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="a00515.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<span class="keywordtype">id</span>.length() &gt; 1 &amp;&amp; <span class="keywordtype">id</span>[0] == <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">auto</span>* series = static_cast&lt;Series*&gt;(<a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    series-&gt;ScaleLayerLearningRate(&amp;<span class="keywordtype">id</span>[1], factor);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">// Converts the network to int if not already.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="a03506.html#a7d1f7c501ef1c23e2088c9f64a232871">  124</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#a7d1f7c501ef1c23e2088c9f64a232871">ConvertToInt</a>() {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="a03506.html#a2322b02535fc4c25557bba259bd1aa4f">training_flags_</a> &amp; <a class="code" href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2a85f99732695115fa647f091760699816">TF_INT_MODE</a>) == 0) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#adcd3e7f3f9462ab70ff9738bcde7520d">ConvertToInt</a>();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <a class="code" href="a03506.html#a2322b02535fc4c25557bba259bd1aa4f">training_flags_</a> |= <a class="code" href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2a85f99732695115fa647f091760699816">TF_INT_MODE</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// Provides access to the UNICHARSET that this classifier works with.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="a03506.html#a6b94d49e9e4aab418bb7866b2691f30b">  132</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="a03118.html">UNICHARSET</a>&amp; <a class="code" href="a03506.html#a6b94d49e9e4aab418bb7866b2691f30b">GetUnicharset</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a03506.html#aa0553e816cf544ea2f2a4866c434a3e3">ccutil_</a>.<a class="code" href="a02950.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>; }</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="a03506.html#ae4702d5587f20332be66a41b87ed4d3d">  133</a></span>&#160;  <a class="code" href="a03118.html">UNICHARSET</a>&amp; <a class="code" href="a03506.html#ae4702d5587f20332be66a41b87ed4d3d">GetUnicharset</a>() { <span class="keywordflow">return</span> <a class="code" href="a03506.html#aa0553e816cf544ea2f2a4866c434a3e3">ccutil_</a>.<a class="code" href="a02950.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>; }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// Provides access to the UnicharCompress that this classifier works with.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="a03506.html#adc56f9b4a0803d29d56213d66f6e3af2">  135</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="a03098.html">UnicharCompress</a>&amp; <a class="code" href="a03506.html#adc56f9b4a0803d29d56213d66f6e3af2">GetRecoder</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a03506.html#a15418dcc0001ccceba70afb07ed916ca">recoder_</a>; }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// Provides access to the Dict that this classifier works with.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="a03506.html#abee885604f2b979bd33ccf994d2b340e">  137</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="a03414.html">Dict</a>* <a class="code" href="a03506.html#abee885604f2b979bd33ccf994d2b340e">GetDict</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a03506.html#a8acde1041163ecd8df56843b0a562f29">dict_</a>; }</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="a03506.html#a77e388877f3c2b0bd81b24a8cfc2037d">  138</a></span>&#160;  <a class="code" href="a03414.html">Dict</a>* <a class="code" href="a03506.html#a77e388877f3c2b0bd81b24a8cfc2037d">GetDict</a>() { <span class="keywordflow">return</span> <a class="code" href="a03506.html#a8acde1041163ecd8df56843b0a562f29">dict_</a>; }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// Sets the sample iteration to the given value. The sample_iteration_</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// determines the seed for the random number generator. The training</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// iteration is incremented only by a successful training iteration.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="a03506.html#a87540098618e72823c2b8364898fd23c">  142</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#a87540098618e72823c2b8364898fd23c">SetIteration</a>(<span class="keywordtype">int</span> iteration) { <a class="code" href="a03506.html#aef5b9a97853a4d8a409b451b445bbd0a">sample_iteration_</a> = iteration; }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">// Accessors for textline image normalization.</span></div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="a03506.html#a78260e75469f0e9982531ab08c614400">  144</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="a03506.html#a78260e75469f0e9982531ab08c614400">NumInputs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>-&gt;<a class="code" href="a03514.html#ac41938e66d928d9a9563f33fc40e8f18">NumInputs</a>(); }</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="a03506.html#ab8973ac26cd06e21f6ad5be99c701b46">  145</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="a03506.html#ab8973ac26cd06e21f6ad5be99c701b46">null_char</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a03506.html#ad1552749846d3d4914c40eb7bd5eda7e">null_char_</a>; }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// Loads a model from mgr, including the dictionary only if lang is not null.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a03506.html#a418a806e6c6003b94a923a4ea2fee9c5">Load</a>(<span class="keyword">const</span> <a class="code" href="a03046.html">ParamsVectorSet</a>* params, <span class="keyword">const</span> <span class="keywordtype">char</span>* lang,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <a class="code" href="a03086.html">TessdataManager</a>* mgr);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// Writes to the given file. Returns false in case of error.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// If mgr contains a unicharset and recoder, then they are not encoded to fp.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a03506.html#adde3ed27f1b4fa8274f8ddffc672da30">Serialize</a>(<span class="keyword">const</span> <a class="code" href="a03086.html">TessdataManager</a>* mgr, <a class="code" href="a02538.html">TFile</a>* fp) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// Reads from the given file. Returns false in case of error.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// If mgr contains a unicharset and recoder, then they are taken from there,</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// otherwise, they are part of the serialization in fp.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a03506.html#af95c09a16e40ae0029b13d5a93210def">DeSerialize</a>(<span class="keyword">const</span> <a class="code" href="a03086.html">TessdataManager</a>* mgr, <a class="code" href="a02538.html">TFile</a>* fp);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// Loads the charsets from mgr.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a03506.html#a660c8b65fe2f7eed0e44086461d613dd">LoadCharsets</a>(<span class="keyword">const</span> <a class="code" href="a03086.html">TessdataManager</a>* mgr);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// Loads the Recoder.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a03506.html#a404f703439be175987470a8b0346bfc4">LoadRecoder</a>(<a class="code" href="a02538.html">TFile</a>* fp);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// Loads the dictionary if possible from the traineddata file.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// Prints a warning message, and returns false but otherwise fails silently</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// and continues to work without it if loading fails.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">// Note that dictionary load is independent from DeSerialize, but dependent</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">// on the unicharset matching. This enables training to deserialize a model</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// from checkpoint or restore without having to go back and reload the</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// dictionary.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a03506.html#ad356c8be28240520ad5be371f3148cdc">LoadDictionary</a>(<span class="keyword">const</span> <a class="code" href="a03046.html">ParamsVectorSet</a>* params, <span class="keyword">const</span> <span class="keywordtype">char</span>* lang,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                      <a class="code" href="a03086.html">TessdataManager</a>* mgr);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// Recognizes the line image, contained within image_data, returning the</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// recognized tesseract WERD_RES for the words.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// If invert, tries inverted as well if the normal interpretation doesn&#39;t</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment">// produce a good enough result. The line_box is used for computing the</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="comment">// box_word in the output words. worst_dict_cert is the worst certainty that</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="comment">// will be used in a dictionary word.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#aff710e8f3402259ed96672d4c366118e">RecognizeLine</a>(<span class="keyword">const</span> <a class="code" href="a02766.html">ImageData</a>&amp; image_data, <span class="keywordtype">bool</span> invert, <span class="keywordtype">bool</span> debug,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                     <span class="keywordtype">double</span> worst_dict_cert, <span class="keyword">const</span> <a class="code" href="a02898.html">TBOX</a>&amp; line_box,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                     <a class="code" href="a02442.html">PointerVector&lt;WERD_RES&gt;</a>* words, <span class="keywordtype">int</span> lstm_choice_mode = 0,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                     <span class="keywordtype">int</span> lstm_choice_amount = 5);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">// Helper computes min and mean best results in the output.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#a867dab0bc737118145ed30d90d662425">OutputStats</a>(<span class="keyword">const</span> <a class="code" href="a03518.html">NetworkIO</a>&amp; outputs, <span class="keywordtype">float</span>* min_output,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                   <span class="keywordtype">float</span>* mean_output, <span class="keywordtype">float</span>* sd);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// Recognizes the image_data, returning the labels,</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// scores, and corresponding pairs of start, end x-coords in coords.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// Returned in scale_factor is the reduction factor</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// between the image and the output coords, for computing bounding boxes.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// If re_invert is true, the input is inverted back to its original</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">// photometric interpretation if inversion is attempted but fails to</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// improve the results. This ensures that outputs contains the correct</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// forward outputs for the best photometric interpretation.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// inputs is filled with the used inputs to the network.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a03506.html#aff710e8f3402259ed96672d4c366118e">RecognizeLine</a>(<span class="keyword">const</span> <a class="code" href="a02766.html">ImageData</a>&amp; image_data, <span class="keywordtype">bool</span> invert, <span class="keywordtype">bool</span> debug,</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                     <span class="keywordtype">bool</span> re_invert, <span class="keywordtype">bool</span> upside_down, <span class="keywordtype">float</span>* scale_factor,</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                     <a class="code" href="a03518.html">NetworkIO</a>* inputs, <a class="code" href="a03518.html">NetworkIO</a>* outputs);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// Converts an array of labels to utf-8, whether or not the labels are</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// augmented with character boundaries.</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <a class="code" href="a02542.html">STRING</a> <a class="code" href="a03506.html#a71d93b2254ac0513ae6fd0046d9822fb">DecodeLabels</a>(<span class="keyword">const</span> <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>&amp; labels);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">// Displays the forward results in a window with the characters and</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// boundaries as determined by the labels and label_coords.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#afd1409afadda985225ee5c34b0974eb9">DisplayForward</a>(<span class="keyword">const</span> <a class="code" href="a03518.html">NetworkIO</a>&amp; inputs, <span class="keyword">const</span> <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>&amp; labels,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                      <span class="keyword">const</span> <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>&amp; label_coords,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                      <span class="keyword">const</span> <span class="keywordtype">char</span>* window_name, <a class="code" href="a03978.html">ScrollView</a>** window);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// Converts the network output to a sequence of labels. Outputs labels, scores</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// and start xcoords of each char, and each null_char_, with an additional</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// final xcoord for the end of the output.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">// The conversion method is determined by internal state.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#ac579aa50f3991b4ed1ce2b062d2a4216">LabelsFromOutputs</a>(<span class="keyword">const</span> <a class="code" href="a03518.html">NetworkIO</a>&amp; outputs, <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>* labels,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                         <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>* xcoords);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">// Sets the random seed from the sample_iteration_;</span></div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="a03506.html#ab7e1aaf697d6e40f71fd3c6899501471">  217</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#ab7e1aaf697d6e40f71fd3c6899501471">SetRandomSeed</a>() {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    int64_t seed = static_cast&lt;int64_t&gt;(<a class="code" href="a03506.html#aef5b9a97853a4d8a409b451b445bbd0a">sample_iteration_</a>) * 0x10000001;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="a03506.html#acc474db9d4c2d9d4512db768f97d2e79">randomizer_</a>.<a class="code" href="a02450.html#ace83848435d2c9289a7fff0fb938c4f7">set_seed</a>(seed);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="a03506.html#acc474db9d4c2d9d4512db768f97d2e79">randomizer_</a>.<a class="code" href="a02450.html#a821ab9cea24381cfb980b3ec92a2c1eb">IntRand</a>();</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// Displays the labels and cuts at the corresponding xcoords.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// Size of labels should match xcoords.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#a5aa5fc43066d1a90313cbb039f4f5194">DisplayLSTMOutput</a>(<span class="keyword">const</span> <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>&amp; labels,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                         <span class="keyword">const</span> <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>&amp; xcoords, <span class="keywordtype">int</span> height,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                         <a class="code" href="a03978.html">ScrollView</a>* window);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// Prints debug output detailing the activation path that is implied by the</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// xcoords.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#a8f2887e45f88df5e0318cfe7e0019f0a">DebugActivationPath</a>(<span class="keyword">const</span> <a class="code" href="a03518.html">NetworkIO</a>&amp; outputs,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                           <span class="keyword">const</span> <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>&amp; labels,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                           <span class="keyword">const</span> <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>&amp; xcoords);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// Prints debug output detailing activations and 2nd choice over a range</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// of positions.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#ae1c9fe828122842f0337577b2df908de">DebugActivationRange</a>(<span class="keyword">const</span> <a class="code" href="a03518.html">NetworkIO</a>&amp; outputs, <span class="keyword">const</span> <span class="keywordtype">char</span>* label,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                            <span class="keywordtype">int</span> best_choice, <span class="keywordtype">int</span> x_start, <span class="keywordtype">int</span> x_end);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// As LabelsViaCTC except that this function constructs the best path that</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// contains only legal sequences of subcodes for recoder_.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#a8088623f7d88a3260ce4f9ff381374c8">LabelsViaReEncode</a>(<span class="keyword">const</span> <a class="code" href="a03518.html">NetworkIO</a>&amp; output, <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>* labels,</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                         <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>* xcoords);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">// Converts the network output to a sequence of labels, with scores, using</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// the simple character model (each position is a char, and the null_char_ is</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// mainly intended for tail padding.)</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a03506.html#afde992bd547dc9f1219f5f7b11394278">LabelsViaSimpleText</a>(<span class="keyword">const</span> <a class="code" href="a03518.html">NetworkIO</a>&amp; output, <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>* labels,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                           <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>* xcoords);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// Returns a string corresponding to the label starting at start. Sets *end</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// to the next start and if non-null, *decoded to the unichar id.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a03506.html#a668b9b6663d57b3746154b5ce9e5b54d">DecodeLabel</a>(<span class="keyword">const</span> <a class="code" href="a02434.html">GenericVector&lt;int&gt;</a>&amp; labels, <span class="keywordtype">int</span> start, <span class="keywordtype">int</span>* end,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                          <span class="keywordtype">int</span>* decoded);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// Returns a string corresponding to a given single label id, falling back to</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// a default of &quot;..&quot; for part of a multi-label unichar-id.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a03506.html#a59d78621de76378c18356f316ccb8688">DecodeSingleLabel</a>(<span class="keywordtype">int</span> label);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// The network hierarchy.</span></div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">  261</a></span>&#160;  <a class="code" href="a03514.html">Network</a>* <a class="code" href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">network_</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">// The unicharset. Only the unicharset element is serialized.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// Has to be a CCUtil, so Dict can point to it.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="a03506.html#aa0553e816cf544ea2f2a4866c434a3e3">  264</a></span>&#160;  <a class="code" href="a02950.html">CCUtil</a> <a class="code" href="a03506.html#aa0553e816cf544ea2f2a4866c434a3e3">ccutil_</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// For backward compatibility, recoder_ is serialized iff</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// training_flags_ &amp; TF_COMPRESS_UNICHARSET.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">// Further encode/decode ccutil_.unicharset&#39;s ids to simplify the unicharset.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="a03506.html#a15418dcc0001ccceba70afb07ed916ca">  268</a></span>&#160;  <a class="code" href="a03098.html">UnicharCompress</a> <a class="code" href="a03506.html#a15418dcc0001ccceba70afb07ed916ca">recoder_</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// ==Training parameters that are serialized to provide a record of them.==</span></div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="a03506.html#ab11f0ea217fbe21cb4a9dbd2e7b1ee44">  271</a></span>&#160;  <a class="code" href="a02542.html">STRING</a> <a class="code" href="a03506.html#ab11f0ea217fbe21cb4a9dbd2e7b1ee44">network_str_</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// Flags used to determine the training method of the network.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">// See enum TrainingFlags above.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="a03506.html#a2322b02535fc4c25557bba259bd1aa4f">  274</a></span>&#160;  int32_t <a class="code" href="a03506.html#a2322b02535fc4c25557bba259bd1aa4f">training_flags_</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// Number of actual backward training steps used.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="a03506.html#aca315a9232cd3c04b82277ddaf8f840f">  276</a></span>&#160;  int32_t <a class="code" href="a03506.html#aca315a9232cd3c04b82277ddaf8f840f">training_iteration_</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// Index into training sample set. sample_iteration &gt;= training_iteration_.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="a03506.html#aef5b9a97853a4d8a409b451b445bbd0a">  278</a></span>&#160;  int32_t <a class="code" href="a03506.html#aef5b9a97853a4d8a409b451b445bbd0a">sample_iteration_</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// Index in softmax of null character. May take the value UNICHAR_BROKEN or</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// ccutil_.unicharset.size().</span></div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="a03506.html#ad1552749846d3d4914c40eb7bd5eda7e">  281</a></span>&#160;  int32_t <a class="code" href="a03506.html#ad1552749846d3d4914c40eb7bd5eda7e">null_char_</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">// Learning rate and momentum multipliers of deltas in backprop.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="a03506.html#add798dcc838b310a2cf9db51436d2f20">  283</a></span>&#160;  <span class="keywordtype">float</span> <a class="code" href="a03506.html#add798dcc838b310a2cf9db51436d2f20">learning_rate_</a>;</div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="a03506.html#aee3c8dda44e7aec9e7afcdaab7488ce9">  284</a></span>&#160;  <span class="keywordtype">float</span> <a class="code" href="a03506.html#aee3c8dda44e7aec9e7afcdaab7488ce9">momentum_</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// Smoothing factor for 2nd moment of gradients.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="a03506.html#a466123cbbb91ed46873a20dfbe539c45">  286</a></span>&#160;  <span class="keywordtype">float</span> <a class="code" href="a03506.html#a466123cbbb91ed46873a20dfbe539c45">adam_beta_</a>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// === NOT SERIALIZED.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="a03506.html#acc474db9d4c2d9d4512db768f97d2e79">  289</a></span>&#160;  <a class="code" href="a02450.html">TRand</a> <a class="code" href="a03506.html#acc474db9d4c2d9d4512db768f97d2e79">randomizer_</a>;</div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="a03506.html#a4e3ffb8df501ac1988cfc3751c5adfbc">  290</a></span>&#160;  <a class="code" href="a03522.html">NetworkScratch</a> <a class="code" href="a03506.html#a4e3ffb8df501ac1988cfc3751c5adfbc">scratch_space_</a>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// Language model (optional) to use with the beam search.</span></div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="a03506.html#a8acde1041163ecd8df56843b0a562f29">  292</a></span>&#160;  <a class="code" href="a03414.html">Dict</a>* <a class="code" href="a03506.html#a8acde1041163ecd8df56843b0a562f29">dict_</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// Beam search held between uses to optimize memory allocation/use.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="a03506.html#aa12337ff92e33b3549ef5d9a49c9babb">  294</a></span>&#160;  <a class="code" href="a03558.html">RecodeBeamSearch</a>* <a class="code" href="a03506.html#aa12337ff92e33b3549ef5d9a49c9babb">search_</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="comment">// == Debugging parameters.==</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// Recognition debug display window.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="a03506.html#a69a61f9c6d352e2dd0eecb395e18c1c8">  298</a></span>&#160;  <a class="code" href="a03978.html">ScrollView</a>* <a class="code" href="a03506.html#a69a61f9c6d352e2dd0eecb395e18c1c8">debug_win_</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;};</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}  <span class="comment">// namespace tesseract.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor">#endif  // TESSERACT_LSTM_LSTMRECOGNIZER_H_</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aa03578_html"><div class="ttname"><a href="a03578.html">tesseract::StaticShape</a></div><div class="ttdef"><b>Definition:</b> <a href="a00950_source.html#l00038">static_shape.h:38</a></div></div>
<div class="ttc" id="aa03506_html_add798dcc838b310a2cf9db51436d2f20"><div class="ttname"><a href="a03506.html#add798dcc838b310a2cf9db51436d2f20">tesseract::LSTMRecognizer::learning_rate_</a></div><div class="ttdeci">float learning_rate_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00283">lstmrecognizer.h:283</a></div></div>
<div class="ttc" id="aa03978_html"><div class="ttname"><a href="a03978.html">ScrollView</a></div><div class="ttdef"><b>Definition:</b> <a href="a01469_source.html#l00097">scrollview.h:97</a></div></div>
<div class="ttc" id="aa00044_html"><div class="ttname"><a href="a00044.html">strngs.h</a></div></div>
<div class="ttc" id="aa03506_html_a8acde1041163ecd8df56843b0a562f29"><div class="ttname"><a href="a03506.html#a8acde1041163ecd8df56843b0a562f29">tesseract::LSTMRecognizer::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00292">lstmrecognizer.h:292</a></div></div>
<div class="ttc" id="aa03578_html_a88a36fac38cb0a8c506bac0f9db46551"><div class="ttname"><a href="a03578.html#a88a36fac38cb0a8c506bac0f9db46551">tesseract::StaticShape::loss_type</a></div><div class="ttdeci">LossType loss_type() const</div><div class="ttdef"><b>Definition:</b> <a href="a00950_source.html#l00050">static_shape.h:50</a></div></div>
<div class="ttc" id="aa03506_html_a8f2887e45f88df5e0318cfe7e0019f0a"><div class="ttname"><a href="a03506.html#a8f2887e45f88df5e0318cfe7e0019f0a">tesseract::LSTMRecognizer::DebugActivationPath</a></div><div class="ttdeci">void DebugActivationPath(const NetworkIO &amp;outputs, const GenericVector&lt; int &gt; &amp;labels, const GenericVector&lt; int &gt; &amp;xcoords)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00392">lstmrecognizer.cpp:392</a></div></div>
<div class="ttc" id="aa03506_html_a7c1a80e63ebbe2521c1876d68c77789c"><div class="ttname"><a href="a03506.html#a7c1a80e63ebbe2521c1876d68c77789c">tesseract::LSTMRecognizer::IsTensorFlow</a></div><div class="ttdeci">bool IsTensorFlow() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00076">lstmrecognizer.h:76</a></div></div>
<div class="ttc" id="aa03506_html_afde992bd547dc9f1219f5f7b11394278"><div class="ttname"><a href="a03506.html#afde992bd547dc9f1219f5f7b11394278">tesseract::LSTMRecognizer::LabelsViaSimpleText</a></div><div class="ttdeci">void LabelsViaSimpleText(const NetworkIO &amp;output, GenericVector&lt; int &gt; *labels, GenericVector&lt; int &gt; *xcoords)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00488">lstmrecognizer.cpp:488</a></div></div>
<div class="ttc" id="aa03558_html"><div class="ttname"><a href="a03558.html">tesseract::RecodeBeamSearch</a></div><div class="ttdef"><b>Definition:</b> <a href="a00929_source.html#l00180">recodebeam.h:180</a></div></div>
<div class="ttc" id="aa03086_html"><div class="ttname"><a href="a03086.html">tesseract::TessdataManager</a></div><div class="ttdef"><b>Definition:</b> <a href="a00578_source.html#l00126">tessdatamanager.h:126</a></div></div>
<div class="ttc" id="aa03506_html_aec22ea2555ed4e9513e3061406fe3b37"><div class="ttname"><a href="a03506.html#aec22ea2555ed4e9513e3061406fe3b37">tesseract::LSTMRecognizer::ScaleLayerLearningRate</a></div><div class="ttdeci">void ScaleLayerLearningRate(const STRING &amp;id, double factor)</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00116">lstmrecognizer.h:116</a></div></div>
<div class="ttc" id="aa00515_html_a93a603f4063a6b9403d81caa245a583b"><div class="ttname"><a href="a00515.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a></div><div class="ttdeci">#define ASSERT_HOST(x)</div><div class="ttdef"><b>Definition:</b> <a href="a00515_source.html#l00087">errcode.h:87</a></div></div>
<div class="ttc" id="aa03506_html_ab5635bc6fefc6f5d434455ed44f1454e"><div class="ttname"><a href="a03506.html#ab5635bc6fefc6f5d434455ed44f1454e">tesseract::LSTMRecognizer::IsIntMode</a></div><div class="ttdeci">bool IsIntMode() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00070">lstmrecognizer.h:70</a></div></div>
<div class="ttc" id="aa03506_html_aa12337ff92e33b3549ef5d9a49c9babb"><div class="ttname"><a href="a03506.html#aa12337ff92e33b3549ef5d9a49c9babb">tesseract::LSTMRecognizer::search_</a></div><div class="ttdeci">RecodeBeamSearch * search_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00294">lstmrecognizer.h:294</a></div></div>
<div class="ttc" id="aa00554_html"><div class="ttname"><a href="a00554.html">params.h</a></div></div>
<div class="ttc" id="aa03506_html_ad1c4b2c88566feb9aa99cd2d4ea3d500"><div class="ttname"><a href="a03506.html#ad1c4b2c88566feb9aa99cd2d4ea3d500">tesseract::LSTMRecognizer::training_iteration</a></div><div class="ttdeci">int training_iteration() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00060">lstmrecognizer.h:60</a></div></div>
<div class="ttc" id="aa03506_html_ad356c8be28240520ad5be371f3148cdc"><div class="ttname"><a href="a03506.html#ad356c8be28240520ad5be371f3148cdc">tesseract::LSTMRecognizer::LoadDictionary</a></div><div class="ttdeci">bool LoadDictionary(const ParamsVectorSet *params, const char *lang, TessdataManager *mgr)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00167">lstmrecognizer.cpp:167</a></div></div>
<div class="ttc" id="aa01818_html_a0294eb0630c5f8dea13b0d8a58cc26e2"><div class="ttname"><a href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2">tesseract::TrainingFlags</a></div><div class="ttdeci">TrainingFlags</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00046">lstmrecognizer.h:46</a></div></div>
<div class="ttc" id="aa03506_html_acc474db9d4c2d9d4512db768f97d2e79"><div class="ttname"><a href="a03506.html#acc474db9d4c2d9d4512db768f97d2e79">tesseract::LSTMRecognizer::randomizer_</a></div><div class="ttdeci">TRand randomizer_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00289">lstmrecognizer.h:289</a></div></div>
<div class="ttc" id="aa02442_html"><div class="ttname"><a href="a02442.html">tesseract::PointerVector&lt; WERD_RES &gt;</a></div></div>
<div class="ttc" id="aa03506_html_a53b4de727b39eef734eaf0a906d92ab0"><div class="ttname"><a href="a03506.html#a53b4de727b39eef734eaf0a906d92ab0">tesseract::LSTMRecognizer::learning_rate</a></div><div class="ttdeci">double learning_rate() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00062">lstmrecognizer.h:62</a></div></div>
<div class="ttc" id="aa02450_html_a821ab9cea24381cfb980b3ec92a2c1eb"><div class="ttname"><a href="a02450.html#a821ab9cea24381cfb980b3ec92a2c1eb">tesseract::TRand::IntRand</a></div><div class="ttdeci">int32_t IntRand()</div><div class="ttdef"><b>Definition:</b> <a href="a00014_source.html#l00080">helpers.h:80</a></div></div>
<div class="ttc" id="aa03506_html_a77e388877f3c2b0bd81b24a8cfc2037d"><div class="ttname"><a href="a03506.html#a77e388877f3c2b0bd81b24a8cfc2037d">tesseract::LSTMRecognizer::GetDict</a></div><div class="ttdeci">Dict * GetDict()</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00138">lstmrecognizer.h:138</a></div></div>
<div class="ttc" id="aa02542_html"><div class="ttname"><a href="a02542.html">STRING</a></div><div class="ttdef"><b>Definition:</b> <a href="a00044_source.html#l00045">strngs.h:45</a></div></div>
<div class="ttc" id="aa00929_html"><div class="ttname"><a href="a00929.html">recodebeam.h</a></div></div>
<div class="ttc" id="aa02830_html"><div class="ttname"><a href="a02830.html">WERD_RES</a></div><div class="ttdef"><b>Definition:</b> <a href="a00374_source.html#l00160">pageres.h:160</a></div></div>
<div class="ttc" id="aa03522_html"><div class="ttname"><a href="a03522.html">tesseract::NetworkScratch</a></div><div class="ttdef"><b>Definition:</b> <a href="a00911_source.html#l00034">networkscratch.h:34</a></div></div>
<div class="ttc" id="aa03506_html_aef5b9a97853a4d8a409b451b445bbd0a"><div class="ttname"><a href="a03506.html#aef5b9a97853a4d8a409b451b445bbd0a">tesseract::LSTMRecognizer::sample_iteration_</a></div><div class="ttdeci">int32_t sample_iteration_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00278">lstmrecognizer.h:278</a></div></div>
<div class="ttc" id="aa00902_html"><div class="ttname"><a href="a00902.html">network.h</a></div></div>
<div class="ttc" id="aa03514_html_ad675bc281466d59898f9bfd73ea34e43"><div class="ttname"><a href="a03514.html#ad675bc281466d59898f9bfd73ea34e43">tesseract::Network::type</a></div><div class="ttdeci">NetworkType type() const</div><div class="ttdef"><b>Definition:</b> <a href="a00902_source.html#l00112">network.h:112</a></div></div>
<div class="ttc" id="aa03506_html_ab11f0ea217fbe21cb4a9dbd2e7b1ee44"><div class="ttname"><a href="a03506.html#ab11f0ea217fbe21cb4a9dbd2e7b1ee44">tesseract::LSTMRecognizer::network_str_</a></div><div class="ttdeci">STRING network_str_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00271">lstmrecognizer.h:271</a></div></div>
<div class="ttc" id="aa03506_html_ab050e77b2837fe6e9f5dce8d8104a041"><div class="ttname"><a href="a03506.html#ab050e77b2837fe6e9f5dce8d8104a041">tesseract::LSTMRecognizer::EnumerateLayers</a></div><div class="ttdeci">GenericVector&lt; STRING &gt; EnumerateLayers() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00079">lstmrecognizer.h:79</a></div></div>
<div class="ttc" id="aa03506_html_ae1c9fe828122842f0337577b2df908de"><div class="ttname"><a href="a03506.html#ae1c9fe828122842f0337577b2df908de">tesseract::LSTMRecognizer::DebugActivationRange</a></div><div class="ttdeci">void DebugActivationRange(const NetworkIO &amp;outputs, const char *label, int best_choice, int x_start, int x_end)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00419">lstmrecognizer.cpp:419</a></div></div>
<div class="ttc" id="aa03506_html_ac579aa50f3991b4ed1ce2b062d2a4216"><div class="ttname"><a href="a03506.html#ac579aa50f3991b4ed1ce2b062d2a4216">tesseract::LSTMRecognizer::LabelsFromOutputs</a></div><div class="ttdeci">void LabelsFromOutputs(const NetworkIO &amp;outputs, GenericVector&lt; int &gt; *labels, GenericVector&lt; int &gt; *xcoords)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00462">lstmrecognizer.cpp:462</a></div></div>
<div class="ttc" id="aa03506_html_afd1409afadda985225ee5c34b0974eb9"><div class="ttname"><a href="a03506.html#afd1409afadda985225ee5c34b0974eb9">tesseract::LSTMRecognizer::DisplayForward</a></div><div class="ttdeci">void DisplayForward(const NetworkIO &amp;inputs, const GenericVector&lt; int &gt; &amp;labels, const GenericVector&lt; int &gt; &amp;label_coords, const char *window_name, ScrollView **window)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00349">lstmrecognizer.cpp:349</a></div></div>
<div class="ttc" id="aa03506_html_a6b94d49e9e4aab418bb7866b2691f30b"><div class="ttname"><a href="a03506.html#a6b94d49e9e4aab418bb7866b2691f30b">tesseract::LSTMRecognizer::GetUnicharset</a></div><div class="ttdeci">const UNICHARSET &amp; GetUnicharset() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00132">lstmrecognizer.h:132</a></div></div>
<div class="ttc" id="aa02766_html"><div class="ttname"><a href="a02766.html">tesseract::ImageData</a></div><div class="ttdef"><b>Definition:</b> <a href="a00320_source.html#l00104">imagedata.h:104</a></div></div>
<div class="ttc" id="aa02950_html_a69c5179ac5f10a24f3f97e16ca09460f"><div class="ttname"><a href="a02950.html#a69c5179ac5f10a24f3f97e16ca09460f">tesseract::CCUtil::unicharset</a></div><div class="ttdeci">UNICHARSET unicharset</div><div class="ttdef"><b>Definition:</b> <a href="a00488_source.html#l00057">ccutil.h:57</a></div></div>
<div class="ttc" id="aa03506_html_ae2d6bf1cac558b895465bd0bf0b85296"><div class="ttname"><a href="a03506.html#ae2d6bf1cac558b895465bd0bf0b85296">tesseract::LSTMRecognizer::LSTMRecognizer</a></div><div class="ttdeci">LSTMRecognizer()</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00057">lstmrecognizer.cpp:57</a></div></div>
<div class="ttc" id="aa03506_html_a404f703439be175987470a8b0346bfc4"><div class="ttname"><a href="a03506.html#a404f703439be175987470a8b0346bfc4">tesseract::LSTMRecognizer::LoadRecoder</a></div><div class="ttdeci">bool LoadRecoder(TFile *fp)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00143">lstmrecognizer.cpp:143</a></div></div>
<div class="ttc" id="aa03514_html_abce1ba9a5dfc40942d29a963b96f85de"><div class="ttname"><a href="a03514.html#abce1ba9a5dfc40942d29a963b96f85de">tesseract::Network::TestFlag</a></div><div class="ttdeci">bool TestFlag(NetworkFlags flag) const</div><div class="ttdef"><b>Definition:</b> <a href="a00902_source.html#l00144">network.h:144</a></div></div>
<div class="ttc" id="aa03506_html_aa0553e816cf544ea2f2a4866c434a3e3"><div class="ttname"><a href="a03506.html#aa0553e816cf544ea2f2a4866c434a3e3">tesseract::LSTMRecognizer::ccutil_</a></div><div class="ttdeci">CCUtil ccutil_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00264">lstmrecognizer.h:264</a></div></div>
<div class="ttc" id="aa03506_html_aa16161a404ddcb6a7b68532fc6ea2d75"><div class="ttname"><a href="a03506.html#aa16161a404ddcb6a7b68532fc6ea2d75">tesseract::LSTMRecognizer::GetLayerLearningRate</a></div><div class="ttdeci">float GetLayerLearningRate(const STRING &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00094">lstmrecognizer.h:94</a></div></div>
<div class="ttc" id="aa01818_html_a13a7c99e617b2f9428673e71bd29359bae8dd985d351d9f45b42398cbdedf19dd"><div class="ttname"><a href="a01818.html#a13a7c99e617b2f9428673e71bd29359bae8dd985d351d9f45b42398cbdedf19dd">tesseract::LT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00950_source.html#l00030">static_shape.h:30</a></div></div>
<div class="ttc" id="aa03506_html_a660c8b65fe2f7eed0e44086461d613dd"><div class="ttname"><a href="a03506.html#a660c8b65fe2f7eed0e44086461d613dd">tesseract::LSTMRecognizer::LoadCharsets</a></div><div class="ttdeci">bool LoadCharsets(const TessdataManager *mgr)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00133">lstmrecognizer.cpp:133</a></div></div>
<div class="ttc" id="aa03514_html_ab99b95d6143dd9b22d3a33c6c1c1f123"><div class="ttname"><a href="a03514.html#ab99b95d6143dd9b22d3a33c6c1c1f123">tesseract::Network::OutputShape</a></div><div class="ttdeci">virtual StaticShape OutputShape(const StaticShape &amp;input_shape) const</div><div class="ttdef"><b>Definition:</b> <a href="a00902_source.html#l00133">network.h:133</a></div></div>
<div class="ttc" id="aa03506_html_a87540098618e72823c2b8364898fd23c"><div class="ttname"><a href="a03506.html#a87540098618e72823c2b8364898fd23c">tesseract::LSTMRecognizer::SetIteration</a></div><div class="ttdeci">void SetIteration(int iteration)</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00142">lstmrecognizer.h:142</a></div></div>
<div class="ttc" id="aa03506_html_af95c09a16e40ae0029b13d5a93210def"><div class="ttname"><a href="a03506.html#af95c09a16e40ae0029b13d5a93210def">tesseract::LSTMRecognizer::DeSerialize</a></div><div class="ttdeci">bool DeSerialize(const TessdataManager *mgr, TFile *fp)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00108">lstmrecognizer.cpp:108</a></div></div>
<div class="ttc" id="aa00911_html"><div class="ttname"><a href="a00911.html">networkscratch.h</a></div></div>
<div class="ttc" id="aa03506_html_aff710e8f3402259ed96672d4c366118e"><div class="ttname"><a href="a03506.html#aff710e8f3402259ed96672d4c366118e">tesseract::LSTMRecognizer::RecognizeLine</a></div><div class="ttdeci">void RecognizeLine(const ImageData &amp;image_data, bool invert, bool debug, double worst_dict_cert, const TBOX &amp;line_box, PointerVector&lt; WERD_RES &gt; *words, int lstm_choice_mode=0, int lstm_choice_amount=5)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00187">lstmrecognizer.cpp:187</a></div></div>
<div class="ttc" id="aa03506_html_a4e3ffb8df501ac1988cfc3751c5adfbc"><div class="ttname"><a href="a03506.html#a4e3ffb8df501ac1988cfc3751c5adfbc">tesseract::LSTMRecognizer::scratch_space_</a></div><div class="ttdeci">NetworkScratch scratch_space_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00290">lstmrecognizer.h:290</a></div></div>
<div class="ttc" id="aa03506_html_adc56f9b4a0803d29d56213d66f6e3af2"><div class="ttname"><a href="a03506.html#adc56f9b4a0803d29d56213d66f6e3af2">tesseract::LSTMRecognizer::GetRecoder</a></div><div class="ttdeci">const UnicharCompress &amp; GetRecoder() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00135">lstmrecognizer.h:135</a></div></div>
<div class="ttc" id="aa01818_html_a13a7c99e617b2f9428673e71bd29359b"><div class="ttname"><a href="a01818.html#a13a7c99e617b2f9428673e71bd29359b">tesseract::LossType</a></div><div class="ttdeci">LossType</div><div class="ttdef"><b>Definition:</b> <a href="a00950_source.html#l00029">static_shape.h:29</a></div></div>
<div class="ttc" id="aa03506_html_a2322b02535fc4c25557bba259bd1aa4f"><div class="ttname"><a href="a03506.html#a2322b02535fc4c25557bba259bd1aa4f">tesseract::LSTMRecognizer::training_flags_</a></div><div class="ttdeci">int32_t training_flags_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00274">lstmrecognizer.h:274</a></div></div>
<div class="ttc" id="aa03506_html_ab8973ac26cd06e21f6ad5be99c701b46"><div class="ttname"><a href="a03506.html#ab8973ac26cd06e21f6ad5be99c701b46">tesseract::LSTMRecognizer::null_char</a></div><div class="ttdeci">int null_char() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00145">lstmrecognizer.h:145</a></div></div>
<div class="ttc" id="aa01818_html_a9c90202f597e58fba8911e0d29d9b198aa8f65aa7ff6e3300e56389aa28c52f04"><div class="ttname"><a href="a01818.html#a9c90202f597e58fba8911e0d29d9b198aa8f65aa7ff6e3300e56389aa28c52f04">tesseract::NT_SERIES</a></div><div class="ttdef"><b>Definition:</b> <a href="a00902_source.html#l00054">network.h:54</a></div></div>
<div class="ttc" id="aa03506_html_ab7e1aaf697d6e40f71fd3c6899501471"><div class="ttname"><a href="a03506.html#ab7e1aaf697d6e40f71fd3c6899501471">tesseract::LSTMRecognizer::SetRandomSeed</a></div><div class="ttdeci">void SetRandomSeed()</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00217">lstmrecognizer.h:217</a></div></div>
<div class="ttc" id="aa03506_html_aee3c8dda44e7aec9e7afcdaab7488ce9"><div class="ttname"><a href="a03506.html#aee3c8dda44e7aec9e7afcdaab7488ce9">tesseract::LSTMRecognizer::momentum_</a></div><div class="ttdeci">float momentum_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00284">lstmrecognizer.h:284</a></div></div>
<div class="ttc" id="aa03506_html_a69a61f9c6d352e2dd0eecb395e18c1c8"><div class="ttname"><a href="a03506.html#a69a61f9c6d352e2dd0eecb395e18c1c8">tesseract::LSTMRecognizer::debug_win_</a></div><div class="ttdeci">ScrollView * debug_win_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00298">lstmrecognizer.h:298</a></div></div>
<div class="ttc" id="aa03514_html_adcd3e7f3f9462ab70ff9738bcde7520d"><div class="ttname"><a href="a03514.html#adcd3e7f3f9462ab70ff9738bcde7520d">tesseract::Network::ConvertToInt</a></div><div class="ttdeci">virtual void ConvertToInt()</div><div class="ttdef"><b>Definition:</b> <a href="a00902_source.html#l00191">network.h:191</a></div></div>
<div class="ttc" id="aa03506_html_a7d1f7c501ef1c23e2088c9f64a232871"><div class="ttname"><a href="a03506.html#a7d1f7c501ef1c23e2088c9f64a232871">tesseract::LSTMRecognizer::ConvertToInt</a></div><div class="ttdeci">void ConvertToInt()</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00124">lstmrecognizer.h:124</a></div></div>
<div class="ttc" id="aa00488_html"><div class="ttname"><a href="a00488.html">ccutil.h</a></div></div>
<div class="ttc" id="aa03506_html_a007d9d40e3bfa53adfbd31e9a7599532"><div class="ttname"><a href="a03506.html#a007d9d40e3bfa53adfbd31e9a7599532">tesseract::LSTMRecognizer::OutputLossType</a></div><div class="ttdeci">LossType OutputLossType() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00063">lstmrecognizer.h:63</a></div></div>
<div class="ttc" id="aa03506_html_ab8fc6295efa2e1c762936d0718f4eda7"><div class="ttname"><a href="a03506.html#ab8fc6295efa2e1c762936d0718f4eda7">tesseract::LSTMRecognizer::ScaleLearningRate</a></div><div class="ttdeci">void ScaleLearningRate(double factor)</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00105">lstmrecognizer.h:105</a></div></div>
<div class="ttc" id="aa00332_html"><div class="ttname"><a href="a00332.html">matrix.h</a></div></div>
<div class="ttc" id="aa02538_html"><div class="ttname"><a href="a02538.html">tesseract::TFile</a></div><div class="ttdef"><b>Definition:</b> <a href="a00041_source.html#l00075">serialis.h:75</a></div></div>
<div class="ttc" id="aa03118_html"><div class="ttname"><a href="a03118.html">UNICHARSET</a></div><div class="ttdef"><b>Definition:</b> <a href="a00605_source.html#l00145">unicharset.h:145</a></div></div>
<div class="ttc" id="aa03518_html"><div class="ttname"><a href="a03518.html">tesseract::NetworkIO</a></div><div class="ttdef"><b>Definition:</b> <a href="a00908_source.html#l00039">networkio.h:39</a></div></div>
<div class="ttc" id="aa03046_html"><div class="ttname"><a href="a03046.html">tesseract::ParamsVectorSet</a></div><div class="ttdef"><b>Definition:</b> <a href="a00554_source.html#l00056">params.h:56</a></div></div>
<div class="ttc" id="aa03506_html_a2b345d8b3ae10f4205c73e9f6861663e"><div class="ttname"><a href="a03506.html#a2b345d8b3ae10f4205c73e9f6861663e">tesseract::LSTMRecognizer::GetLayer</a></div><div class="ttdeci">Network * GetLayer(const STRING &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00087">lstmrecognizer.h:87</a></div></div>
<div class="ttc" id="aa03506_html_adde3ed27f1b4fa8274f8ddffc672da30"><div class="ttname"><a href="a03506.html#adde3ed27f1b4fa8274f8ddffc672da30">tesseract::LSTMRecognizer::Serialize</a></div><div class="ttdeci">bool Serialize(const TessdataManager *mgr, TFile *fp) const</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00089">lstmrecognizer.cpp:89</a></div></div>
<div class="ttc" id="aa03506_html_a15418dcc0001ccceba70afb07ed916ca"><div class="ttname"><a href="a03506.html#a15418dcc0001ccceba70afb07ed916ca">tesseract::LSTMRecognizer::recoder_</a></div><div class="ttdeci">UnicharCompress recoder_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00268">lstmrecognizer.h:268</a></div></div>
<div class="ttc" id="aa03506_html_aca315a9232cd3c04b82277ddaf8f840f"><div class="ttname"><a href="a03506.html#aca315a9232cd3c04b82277ddaf8f840f">tesseract::LSTMRecognizer::training_iteration_</a></div><div class="ttdeci">int32_t training_iteration_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00276">lstmrecognizer.h:276</a></div></div>
<div class="ttc" id="aa00014_html"><div class="ttname"><a href="a00014.html">helpers.h</a></div></div>
<div class="ttc" id="aa01818_html"><div class="ttname"><a href="a01818.html">tesseract</a></div><div class="ttdef"><b>Definition:</b> <a href="a00005_source.html#l00065">baseapi.h:65</a></div></div>
<div class="ttc" id="aa01818_html_a0294eb0630c5f8dea13b0d8a58cc26e2a85f99732695115fa647f091760699816"><div class="ttname"><a href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2a85f99732695115fa647f091760699816">tesseract::TF_INT_MODE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00047">lstmrecognizer.h:47</a></div></div>
<div class="ttc" id="aa03506_html_a867dab0bc737118145ed30d90d662425"><div class="ttname"><a href="a03506.html#a867dab0bc737118145ed30d90d662425">tesseract::LSTMRecognizer::OutputStats</a></div><div class="ttdeci">void OutputStats(const NetworkIO &amp;outputs, float *min_output, float *mean_output, float *sd)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00238">lstmrecognizer.cpp:238</a></div></div>
<div class="ttc" id="aa03506_html_a78260e75469f0e9982531ab08c614400"><div class="ttname"><a href="a03506.html#a78260e75469f0e9982531ab08c614400">tesseract::LSTMRecognizer::NumInputs</a></div><div class="ttdeci">int NumInputs() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00144">lstmrecognizer.h:144</a></div></div>
<div class="ttc" id="aa03506_html_a40580135ab49d43527c59c761b4a5494"><div class="ttname"><a href="a03506.html#a40580135ab49d43527c59c761b4a5494">tesseract::LSTMRecognizer::SimpleTextOutput</a></div><div class="ttdeci">bool SimpleTextOutput() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00069">lstmrecognizer.h:69</a></div></div>
<div class="ttc" id="aa03506_html_ad1552749846d3d4914c40eb7bd5eda7e"><div class="ttname"><a href="a03506.html#ad1552749846d3d4914c40eb7bd5eda7e">tesseract::LSTMRecognizer::null_char_</a></div><div class="ttdeci">int32_t null_char_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00281">lstmrecognizer.h:281</a></div></div>
<div class="ttc" id="aa01818_html_a9c90202f597e58fba8911e0d29d9b198a83ad2fcd7f3fb898d1e5cbc987f472fd"><div class="ttname"><a href="a01818.html#a9c90202f597e58fba8911e0d29d9b198a83ad2fcd7f3fb898d1e5cbc987f472fd">tesseract::NT_TENSORFLOW</a></div><div class="ttdef"><b>Definition:</b> <a href="a00902_source.html#l00078">network.h:78</a></div></div>
<div class="ttc" id="aa03514_html_a3cb608bfc2c144366eab3fc43c37848e"><div class="ttname"><a href="a03514.html#a3cb608bfc2c144366eab3fc43c37848e">tesseract::Network::NumOutputs</a></div><div class="ttdeci">int NumOutputs() const</div><div class="ttdef"><b>Definition:</b> <a href="a00902_source.html#l00123">network.h:123</a></div></div>
<div class="ttc" id="aa02434_html"><div class="ttname"><a href="a02434.html">GenericVector&lt; STRING &gt;</a></div></div>
<div class="ttc" id="aa03414_html"><div class="ttname"><a href="a03414.html">tesseract::Dict</a></div><div class="ttdef"><b>Definition:</b> <a href="a00830_source.html#l00091">dict.h:91</a></div></div>
<div class="ttc" id="aa01818_html_a13a7c99e617b2f9428673e71bd29359bafe3fbdf6fcc74fc6bf28b1ae48498430"><div class="ttname"><a href="a01818.html#a13a7c99e617b2f9428673e71bd29359bafe3fbdf6fcc74fc6bf28b1ae48498430">tesseract::LT_SOFTMAX</a></div><div class="ttdef"><b>Definition:</b> <a href="a00950_source.html#l00032">static_shape.h:32</a></div></div>
<div class="ttc" id="aa02450_html_ace83848435d2c9289a7fff0fb938c4f7"><div class="ttname"><a href="a02450.html#ace83848435d2c9289a7fff0fb938c4f7">tesseract::TRand::set_seed</a></div><div class="ttdeci">void set_seed(uint64_t seed)</div><div class="ttdef"><b>Definition:</b> <a href="a00014_source.html#l00070">helpers.h:70</a></div></div>
<div class="ttc" id="aa03514_html"><div class="ttname"><a href="a03514.html">tesseract::Network</a></div><div class="ttdef"><b>Definition:</b> <a href="a00902_source.html#l00105">network.h:105</a></div></div>
<div class="ttc" id="aa00947_html"><div class="ttname"><a href="a00947.html">series.h</a></div></div>
<div class="ttc" id="aa03506_html_a8088623f7d88a3260ce4f9ff381374c8"><div class="ttname"><a href="a03506.html#a8088623f7d88a3260ce4f9ff381374c8">tesseract::LSTMRecognizer::LabelsViaReEncode</a></div><div class="ttdeci">void LabelsViaReEncode(const NetworkIO &amp;output, GenericVector&lt; int &gt; *labels, GenericVector&lt; int &gt; *xcoords)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00474">lstmrecognizer.cpp:474</a></div></div>
<div class="ttc" id="aa03506_html_a3964ddd6b6c122638816904f0f87855f"><div class="ttname"><a href="a03506.html#a3964ddd6b6c122638816904f0f87855f">tesseract::LSTMRecognizer::~LSTMRecognizer</a></div><div class="ttdeci">~LSTMRecognizer()</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00070">lstmrecognizer.cpp:70</a></div></div>
<div class="ttc" id="aa00320_html"><div class="ttname"><a href="a00320.html">imagedata.h</a></div></div>
<div class="ttc" id="aa02826_html"><div class="ttname"><a href="a02826.html">ROW_RES</a></div><div class="ttdef"><b>Definition:</b> <a href="a00374_source.html#l00133">pageres.h:133</a></div></div>
<div class="ttc" id="aa03506_html_a59d78621de76378c18356f316ccb8688"><div class="ttname"><a href="a03506.html#a59d78621de76378c18356f316ccb8688">tesseract::LSTMRecognizer::DecodeSingleLabel</a></div><div class="ttdeci">const char * DecodeSingleLabel(int label)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00549">lstmrecognizer.cpp:549</a></div></div>
<div class="ttc" id="aa03506_html"><div class="ttname"><a href="a03506.html">tesseract::LSTMRecognizer</a></div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00053">lstmrecognizer.h:53</a></div></div>
<div class="ttc" id="aa03506_html_a56d3a6d506748c7d13bf219de44fca63"><div class="ttname"><a href="a03506.html#a56d3a6d506748c7d13bf219de44fca63">tesseract::LSTMRecognizer::IsRecoding</a></div><div class="ttdeci">bool IsRecoding() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00072">lstmrecognizer.h:72</a></div></div>
<div class="ttc" id="aa00593_html"><div class="ttname"><a href="a00593.html">unicharcompress.h</a></div></div>
<div class="ttc" id="aa03506_html_a2c5da345cfdcf16beadd387f9a250e4e"><div class="ttname"><a href="a03506.html#a2c5da345cfdcf16beadd387f9a250e4e">tesseract::LSTMRecognizer::NumOutputs</a></div><div class="ttdeci">int NumOutputs() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00059">lstmrecognizer.h:59</a></div></div>
<div class="ttc" id="aa03506_html_ae4702d5587f20332be66a41b87ed4d3d"><div class="ttname"><a href="a03506.html#ae4702d5587f20332be66a41b87ed4d3d">tesseract::LSTMRecognizer::GetUnicharset</a></div><div class="ttdeci">UNICHARSET &amp; GetUnicharset()</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00133">lstmrecognizer.h:133</a></div></div>
<div class="ttc" id="aa03506_html_a54cff5506a6ad366b2044cc75645ee0b"><div class="ttname"><a href="a03506.html#a54cff5506a6ad366b2044cc75645ee0b">tesseract::LSTMRecognizer::network_</a></div><div class="ttdeci">Network * network_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00261">lstmrecognizer.h:261</a></div></div>
<div class="ttc" id="aa03506_html_abee885604f2b979bd33ccf994d2b340e"><div class="ttname"><a href="a03506.html#abee885604f2b979bd33ccf994d2b340e">tesseract::LSTMRecognizer::GetDict</a></div><div class="ttdeci">const Dict * GetDict() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00137">lstmrecognizer.h:137</a></div></div>
<div class="ttc" id="aa03506_html_a5aa5fc43066d1a90313cbb039f4f5194"><div class="ttname"><a href="a03506.html#a5aa5fc43066d1a90313cbb039f4f5194">tesseract::LSTMRecognizer::DisplayLSTMOutput</a></div><div class="ttdeci">void DisplayLSTMOutput(const GenericVector&lt; int &gt; &amp;labels, const GenericVector&lt; int &gt; &amp;xcoords, int height, ScrollView *window)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00365">lstmrecognizer.cpp:365</a></div></div>
<div class="ttc" id="aa03506_html_a668b9b6663d57b3746154b5ce9e5b54d"><div class="ttname"><a href="a03506.html#a668b9b6663d57b3746154b5ce9e5b54d">tesseract::LSTMRecognizer::DecodeLabel</a></div><div class="ttdeci">const char * DecodeLabel(const GenericVector&lt; int &gt; &amp;labels, int start, int *end, int *decoded)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00507">lstmrecognizer.cpp:507</a></div></div>
<div class="ttc" id="aa01818_html_aaca6aa7e71197530dd154e11138da6e8a575556edf34617c58c34920f0190b85f"><div class="ttname"><a href="a01818.html#aaca6aa7e71197530dd154e11138da6e8a575556edf34617c58c34920f0190b85f">tesseract::NF_LAYER_SPECIFIC_LR</a></div><div class="ttdef"><b>Definition:</b> <a href="a00902_source.html#l00087">network.h:87</a></div></div>
<div class="ttc" id="aa01818_html_a0294eb0630c5f8dea13b0d8a58cc26e2af91ba76cce718e575d71e5921515a6d3"><div class="ttname"><a href="a01818.html#a0294eb0630c5f8dea13b0d8a58cc26e2af91ba76cce718e575d71e5921515a6d3">tesseract::TF_COMPRESS_UNICHARSET</a></div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00048">lstmrecognizer.h:48</a></div></div>
<div class="ttc" id="aa03514_html_ac41938e66d928d9a9563f33fc40e8f18"><div class="ttname"><a href="a03514.html#ac41938e66d928d9a9563f33fc40e8f18">tesseract::Network::NumInputs</a></div><div class="ttdeci">int NumInputs() const</div><div class="ttdef"><b>Definition:</b> <a href="a00902_source.html#l00120">network.h:120</a></div></div>
<div class="ttc" id="aa03506_html_a418a806e6c6003b94a923a4ea2fee9c5"><div class="ttname"><a href="a03506.html#a418a806e6c6003b94a923a4ea2fee9c5">tesseract::LSTMRecognizer::Load</a></div><div class="ttdeci">bool Load(const ParamsVectorSet *params, const char *lang, TessdataManager *mgr)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00077">lstmrecognizer.cpp:77</a></div></div>
<div class="ttc" id="aa03098_html"><div class="ttname"><a href="a03098.html">tesseract::UnicharCompress</a></div><div class="ttdef"><b>Definition:</b> <a href="a00593_source.html#l00128">unicharcompress.h:128</a></div></div>
<div class="ttc" id="aa02450_html"><div class="ttname"><a href="a02450.html">tesseract::TRand</a></div><div class="ttdef"><b>Definition:</b> <a href="a00014_source.html#l00050">helpers.h:50</a></div></div>
<div class="ttc" id="aa02434_html_a20cfad5c58c50cb85a9529d8ddbd96af"><div class="ttname"><a href="a02434.html#a20cfad5c58c50cb85a9529d8ddbd96af">GenericVector::size</a></div><div class="ttdeci">int size() const</div><div class="ttdef"><b>Definition:</b> <a href="a00011_source.html#l00071">genericvector.h:71</a></div></div>
<div class="ttc" id="aa03506_html_a466123cbbb91ed46873a20dfbe539c45"><div class="ttname"><a href="a03506.html#a466123cbbb91ed46873a20dfbe539c45">tesseract::LSTMRecognizer::adam_beta_</a></div><div class="ttdeci">float adam_beta_</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00286">lstmrecognizer.h:286</a></div></div>
<div class="ttc" id="aa02950_html"><div class="ttname"><a href="a02950.html">tesseract::CCUtil</a></div><div class="ttdef"><b>Definition:</b> <a href="a00488_source.html#l00040">ccutil.h:40</a></div></div>
<div class="ttc" id="aa03506_html_ad3771be55c164cd003088d2d9b43abdb"><div class="ttname"><a href="a03506.html#ad3771be55c164cd003088d2d9b43abdb">tesseract::LSTMRecognizer::sample_iteration</a></div><div class="ttdeci">int sample_iteration() const</div><div class="ttdef"><b>Definition:</b> <a href="a00890_source.html#l00061">lstmrecognizer.h:61</a></div></div>
<div class="ttc" id="aa02898_html"><div class="ttname"><a href="a02898.html">TBOX</a></div><div class="ttdef"><b>Definition:</b> <a href="a00431_source.html#l00033">rect.h:33</a></div></div>
<div class="ttc" id="aa03506_html_a71d93b2254ac0513ae6fd0046d9822fb"><div class="ttname"><a href="a03506.html#a71d93b2254ac0513ae6fd0046d9822fb">tesseract::LSTMRecognizer::DecodeLabels</a></div><div class="ttdeci">STRING DecodeLabels(const GenericVector&lt; int &gt; &amp;labels)</div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00334">lstmrecognizer.cpp:334</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_57c32823bf7301c39893cc8d5b3eca8e.html">lstm</a></li><li class="navelem"><a class="el" href="a00890.html">lstmrecognizer.h</a></li>
    <li class="footer">Generated on Thu Jan 30 2020 14:22:20 for tesseract by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
